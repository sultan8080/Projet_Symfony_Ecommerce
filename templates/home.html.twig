{% extends 'base.html.twig' %}

{% block title %}
	ACCUEIL
{% endblock %}

{% block body %}

	<div class="container mt-3">

		<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-inner">


				<div class="carousel-item active ">
					<div class="row align-items-center">
						<div class="col-sm-5 d-flex flex-column order-2 order-lg-1">
							<div>
								<span class="textHeading text-info">
									MANGEZ BIEN
								</span>
								<br>
								<span class="textHeading text-warning">
									VIVEZ BIEN
								</span>

							</div>
							<div>

								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
							</div>
							<div class="mt-3">
								<a href="{{path('product_home')}}" class="btn btn-md btn-info px-5">BOUTIQUE</a>
							</div>
						</div>
						<div class="col-sm-7 order-1 order-lg-2">
							<img src="{{asset('slide/slide-2.png')}}" class="img-fluid" alt="slide-1">
						</div>
					</div>
				</div>
				<div class="carousel-item ">
					<div class="row align-items-center">
						<div class="col-sm-5 d-flex flex-column order-2 order-lg-1">
							<div>
								<span class="textHeading text-info">
									MANGEZ BIEN
								</span>
								<br>
								<span class="textHeading text-warning">
									VIVEZ BIEN
								</span>

							</div>
							<div>

								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
							</div>
							<div class="mt-3">
								<a href="{{path('product_home')}}" class="btn btn-md btn-info px-5">BOUTIQUE</a>
							</div>
						</div>
						<div class="col-sm-7 order-1 order-lg-2">
							<img src="{{asset('slide/slide-2.png')}}" class="img-fluid" alt="slide-1">
						</div>
					</div>
				</div>
				<div class="carousel-item">
					<div class="row align-items-center">
						<div class="col-sm-5 d-flex flex-column order-2 order-lg-1">
							<div>
								<span class="textHeading text-info">
									MANGEZ BIEN
								</span>
								<br>
								<span class="textHeading text-warning">
									VIVEZ BIEN
								</span>

							</div>
							<div>

								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression.
							</div>
							<div class="mt-3">
								<a href="{{path('product_home')}}" class="btn btn-md btn-info px-5">BOUTIQUE</a>
							</div>
						</div>
						<div class="col-sm-7 order-1 order-lg-2">
							<img src="{{asset('slide/slide-2.png')}}" class="img-fluid" alt="slide-1">
						</div>
					</div>
				</div>
			</div>

		</div>

		<div class="textHeading text-center my-md-4 my-3 my-lg-5">
			<span class="textHeading text-info">
				FAITES VOTRE
			</span>

			<span class="textHeading text-warning">
				CHOIX
			</span>

		</div>
		<div class="text-center container">
			{% include '_partials/_flash.html.twig' %}
		</div>
		<div class="row mt-5">
			<div class="col-md-2">
				<ul class="nav nav-tabs flex-column" id="nav-tab" role="tablist">
					<li class="nav-item">
						<a href="{{ path('home') }}" class="nav-link nav-active-1  text-secondary {% if app.request.attributes.get('_route') == 'home' %}active  bg-warning text-info{% endif %}" id="nav-product-tab" data-bs-toggle="tab" data-bs-target="#nav-product" type="button" role="tab" aria-controls="nav-product" aria-selected="true">Tous les Produits</a>
					</li>

					{% for category in categories %}
						<li class="nav-item">
							<a href="{{ path('show_product_by_category', {'id': category.id}) }}" class="nav-link nav-active-1 text-secondary {% if app.request.get('id') == category.id %}active{% endif %}" id="nav-{{ category.nom }}-tab" data-bs-toggle="tab" data-bs-target="#nav-{{ category.nom }}" type="button" role="tab" aria-controls="nav-{{ category.nom }}" aria-selected="true">{{ category.nom }}</a>
						</li>
					{% endfor %}
				</ul>
			</div>

			<div class="col-md-10">
				<div class="tab-content" id="nav-tabContent">
					<div class="tab-pane fade {% if app.request.attributes.get('_route') == 'home' %}show active{% endif %}" id="nav-product" role="tabpanel" aria-labelledby="nav-product-tab">
						<div class="row justify-content-between">
							{% for product in products %}
								<div class="col-12 col-sm-6 col-lg-3 mb-4">
									<div class="card  shadow-sm">
										<div class="text-center">
											<img src="{{ asset('uploads/images/products/' ~ product.image) }}" class="mt-3 w-50" height="auto" alt="Product Photo">
										</div>
										<div class="card-body text-center">
											<h5 class="card-title fw-bold">{{ product.nom|capitalize }}</h5>
											<p class="card-text fw-bolder text-info">{{ product.Prix|number_format(2, ',', '.') }}€</p>
											<a href="{{ path('app_product_show', {'id': product.id}) }}" class="btn btn-sm btn-warning text-info">Découvrez</a>
											<a href="{{ path('addTo_panier', {'id': product.id}) }}" class="btn btn-sm btn-info">Ajouter au Panier</a>
										</div>
									</div>
								</div>
							{% endfor %}
						</div>
					</div>

					{% for category in categories %}
						<div class="tab-pane fade {% if app.request.get('id') == category.id %}show active{% endif %}" id="nav-{{ category.nom }}" role="tabpanel" aria-labelledby="nav-{{ category.nom }}-tab">
							<div class="row justify-content-between">
								{% for product in products|filter(item => item.category.id == category.id) %}
									<div class="col-12 col-sm-6 col-lg-3 mb-4">
										<div class="card  shadow-sm">
											<div class="text-center">
												<img src="{{ asset('uploads/images/products/' ~ product.image) }}" class="mt-3 w-50" height="auto" alt="Product Photo">
											</div>
											<div class="card-body text-center">
												<h5 class="card-title fw-bold">{{ product.nom|capitalize }}</h5>
												<p class="card-text fw-bolder text-info">{{ product.Prix|number_format(2, ',', '.') }}€</p>
												<a href="{{ path('app_product_show', {'id': product.id}) }}" class="btn btn-sm btn-warning text-info">Découvrez</a>
												<a href="{{ path('addTo_panier', {'id': product.id}) }}" class="btn btn-sm btn-info">Ajouter au Panier</a>
											</div>
										</div>
									</div>
								{% endfor %}
							</div>
						</div>
					{% endfor %}

				</div>
			</div>
		</div>
	</div>
{% endblock %}
